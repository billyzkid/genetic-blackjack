namespace ClassLibrary1.Models
{
    public sealed class BasicStrategy : IStrategy
    {
        private static readonly int[] Actions = new[]
        {
            // Hard hands
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 1, 1, 1, 1, 1,
            0, 0, 0, 0, 0, 1, 1, 1, 1, 1,
            0, 0, 0, 0, 0, 1, 1, 1, 1, 1,
            0, 0, 0, 0, 0, 1, 1, 1, 1, 1,
            1, 1, 0, 0, 0, 1, 1, 1, 1, 1,
            2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
            2, 2, 2, 2, 2, 2, 2, 2, 1, 1,
            1, 2, 2, 2, 2, 1, 1, 1, 1, 1,
            1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            1, 1, 1, 1, 1, 1, 1, 1, 1, 1,

            // Soft hands
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 2, 0, 0, 0, 0, 0,
            2, 2, 2, 2, 2, 0, 0, 1, 1, 1,
            1, 2, 2, 2, 2, 1, 1, 1, 1, 1,
            1, 1, 2, 2, 2, 1, 1, 1, 1, 1,
            1, 1, 2, 2, 2, 1, 1, 1, 1, 1,
            1, 1, 1, 2, 2, 1, 1, 1, 1, 1,
            1, 1, 1, 2, 2, 1, 1, 1, 1, 1,

            // Pairs
            3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
            0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            3, 3, 3, 3, 3, 0, 3, 3, 0, 0,
            3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
            3, 3, 3, 3, 3, 3, 1, 1, 1, 1,
            3, 3, 3, 3, 3, 1, 1, 1, 1, 1,
            2, 2, 2, 2, 2, 2, 2, 2, 1, 1,
            1, 1, 1, 3, 3, 1, 1, 1, 1, 1,
            3, 3, 3, 3, 3, 3, 1, 1, 1, 1,
            3, 3, 3, 3, 3, 3, 1, 1, 1, 1
        };

        public Action GetAction(Hand playerHand, Hand dealerHand)
        {
            var index = this.GetActionIndex(playerHand, dealerHand);

            return (Action)Actions[index];
        }
    }
}
